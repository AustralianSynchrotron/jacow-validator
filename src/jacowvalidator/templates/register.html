{% extends "layout.html" %}
{% block content %}
<section class="section">
<div class="container box box-jacow">
    <h1 class="title">Register</h1>
    <form action="" method="post">
        {{ form.hidden_tag() }}
        <div class="field">
            <label class="label" for="username">{{ form.username.label }}</label>
            <div class="control">
              <input id="username" name="username"
                class="input {% if form.username.errors|length > 0 %} is-danger {% endif %}"
                value="{% if form.is_submitted() %}{{ form.username.data }}{% endif %}"
                type="text" maxlength="32">
            </div>
            {% for error in form.username.errors %}
            <p class="help is-danger">[{{ error }}]</p>
          {% endfor %}
        </div>
        <div class="field">
            <label class="label" for="password">{{ form.password.label }}</label>
            <div class="control">
              <input id="password" name="password"
                class="input {% if form.password.errors|length > 0 %} is-danger {% endif %}"
                value="{% if form.is_submitted() %}{{ form.password.data }}{% endif %}" type="password" maxlength="32">
            </div>
            {% for error in form.password.errors %}
            <p class="help is-danger">[{{ error }}]</p>
          {% endfor %}
        </div>
        <div class="field">
          <label class="label" for="password2">{{ form.password2.label }}</label>
          <div class="control">
            <input id="password2" name="password2"
              class="input {% if form.password2.errors|length > 0 %} is-danger {% endif %}"
              value="{% if form.is_submitted() %}{{ form.password2.data }}{% endif %}" type="password" maxlength="32">
          </div>
            {% for error in form.password2.errors %}
              <p class="help is-danger">[{{ error }}]</p>
            {% endfor %}
        </div>
        {% if admin %}
        <div class="field">
          <div class="control">
            <label class="checkbox">
              <input id="is_admin" name="is_admin" type="checkbox">
              {{ form.is_admin.label }}
            </label>
          </div>
        </div>
        <div class="field">
          <div class="control">
            <label class="checkbox">
              <input id="is_editor" name="is_editor" type="checkbox">
              {{ form.is_editor.label }}
            </label>
          </div>
        </div>
        <div class="field">
          <div class="control">
            <label class="checkbox">
              <input id="is_active" name="is_active" type="checkbox">
              {{ form.is_active.label }}
            </label>
          </div>
        </div>
        {% endif %}
        <div class="field">
            <div class="control">
            <button class="button button-jacow" type="submit" alt="register">Register</button><br/><br/>
            </div>
        </div>
    </form>
    {{ message }}
    <p>Login? <a href="{{ url_for('login') }}">Click to Login!</a></p>
</div>
</section>
{% endblock %}